<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="一、正常开发流程​仔细观察上面那张图，我们可以发现 workspace 和 本地repo 是分离的，事实上，我们我们在本地操作的内容是 workspace 里的内容，而其内容来源是本地或者远程。 1、克隆到本地 repo​因此，我们需要做的第一件事，就是将远程的项目克隆一个到本地。 1git clone xxx 2、创建 develop 分支当然我们 clone 操作以后，默认在 master">
<meta name="keywords" content="git,整理">
<meta property="og:type" content="article">
<meta property="og:title" content="git 常用资源">
<meta property="og:url" content="https://chenzeping.com/resource/2017-11-06-general-git-resources/index.html">
<meta property="og:site_name" content="空城">
<meta property="og:description" content="一、正常开发流程​仔细观察上面那张图，我们可以发现 workspace 和 本地repo 是分离的，事实上，我们我们在本地操作的内容是 workspace 里的内容，而其内容来源是本地或者远程。 1、克隆到本地 repo​因此，我们需要做的第一件事，就是将远程的项目克隆一个到本地。 1git clone xxx 2、创建 develop 分支当然我们 clone 操作以后，默认在 master">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/git-1.jpg">
<meta property="og:image" content="https://koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/git-2.png">
<meta property="og:image" content="https://koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/git回退.png">
<meta property="og:updated_time" content="2021-11-07T18:38:51.131Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="git 常用资源">
<meta name="twitter:description" content="一、正常开发流程​仔细观察上面那张图，我们可以发现 workspace 和 本地repo 是分离的，事实上，我们我们在本地操作的内容是 workspace 里的内容，而其内容来源是本地或者远程。 1、克隆到本地 repo​因此，我们需要做的第一件事，就是将远程的项目克隆一个到本地。 1git clone xxx 2、创建 develop 分支当然我们 clone 操作以后，默认在 master">
<meta name="twitter:image" content="https://koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/git-1.jpg">
    
    
        
          
              <link rel="shortcut icon" href="//koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/fish_opt.png">
          
        
        
          
            <link rel="icon" type="image/png" href="//koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/fish_opt.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="//koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/fish_opt.png">
          
        
    
    <!-- title -->
    <title>git 常用资源</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">    
      <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="https://github.com/koonchen">Projects</a></li>
         
          <li><a href="https://valeriehu1995.github.io">PigChain</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/note/2018-01-06-python-manage-notes/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://chenzeping.com/resource/2017-11-06-general-git-resources/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&text=git 常用资源"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&is_video=false&description=git 常用资源"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=git 常用资源&body=Check out this article: https://chenzeping.com/resource/2017-11-06-general-git-resources/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&name=git 常用资源&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、正常开发流程"><span class="toc-number">1.</span> <span class="toc-text">一、正常开发流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、克隆到本地-repo"><span class="toc-number">1.1.</span> <span class="toc-text">1、克隆到本地 repo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、创建-develop-分支"><span class="toc-number">1.2.</span> <span class="toc-text">2、创建 develop 分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、提交到本地-repo"><span class="toc-number">1.3.</span> <span class="toc-text">3、提交到本地 repo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、回到-master-分支进行-pull-操作"><span class="toc-number">1.4.</span> <span class="toc-text">4、回到 master 分支进行 pull 操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、将-master-分支合并到-develop-分支"><span class="toc-number">1.5.</span> <span class="toc-text">5、将 master 分支合并到 develop 分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、将本地-develop-分支提交到远程仓库的-xxx-分支"><span class="toc-number">1.6.</span> <span class="toc-text">6、将本地 develop 分支提交到远程仓库的 xxx 分支</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、开发问题"><span class="toc-number">2.</span> <span class="toc-text">二、开发问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、对某一些文件我不想在-status-中见到"><span class="toc-number">2.1.</span> <span class="toc-text">1、对某一些文件我不想在 status 中见到</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现"><span class="toc-number">2.1.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决"><span class="toc-number">2.1.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、push-时发现有人更新"><span class="toc-number">2.2.</span> <span class="toc-text">2、push 时发现有人更新</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-1"><span class="toc-number">2.2.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-1"><span class="toc-number">2.2.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、pull-请求被拒绝"><span class="toc-number">2.3.</span> <span class="toc-text">3、pull 请求被拒绝</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-2"><span class="toc-number">2.3.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-2"><span class="toc-number">2.3.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、commit-以后或-push-以后发现有错误"><span class="toc-number">2.4.</span> <span class="toc-text">4、commit 以后或 push 以后发现有错误</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-3"><span class="toc-number">2.4.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-3"><span class="toc-number">2.4.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、回滚以后继续开发"><span class="toc-number">2.5.</span> <span class="toc-text">5、回滚以后继续开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-4"><span class="toc-number">2.5.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-4"><span class="toc-number">2.5.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、meger-冲突解决"><span class="toc-number">2.6.</span> <span class="toc-text">6、meger 冲突解决</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-5"><span class="toc-number">2.6.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-5"><span class="toc-number">2.6.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7、合并-master"><span class="toc-number">2.7.</span> <span class="toc-text">7、合并 master</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-6"><span class="toc-number">2.7.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-6"><span class="toc-number">2.7.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8、撤销文件修改"><span class="toc-number">2.8.</span> <span class="toc-text">8、撤销文件修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-7"><span class="toc-number">2.8.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-7"><span class="toc-number">2.8.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9、删除远程分支和本地分支"><span class="toc-number">2.9.</span> <span class="toc-text">9、删除远程分支和本地分支</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        git 常用资源
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">空城</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2017-11-05T16:00:00.000Z" itemprop="datePublished">2017-11-06</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/resource/">resource</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/git/">git</a>, <a class="tag-link" href="/tags/整理/">整理</a>
    </div>


    </div>
  </header>
  <!-- 
 -->
  <div class="content" itemprop="articleBody">
    <p><img src="https://koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/git-1.jpg" alt="git-1"></p>
<h2 id="一、正常开发流程"><a href="#一、正常开发流程" class="headerlink" title="一、正常开发流程"></a>一、正常开发流程</h2><p>​仔细观察上面那张图，我们可以发现 workspace 和 本地repo 是分离的，事实上，我们我们在本地操作的内容是 workspace 里的内容，而其内容来源是本地或者远程。</p>
<h3 id="1、克隆到本地-repo"><a href="#1、克隆到本地-repo" class="headerlink" title="1、克隆到本地 repo"></a>1、克隆到本地 repo</h3><p>​因此，我们需要做的第一件事，就是将远程的项目克隆一个到本地。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone xxx</span><br></pre></td></tr></table></figure>
<h3 id="2、创建-develop-分支"><a href="#2、创建-develop-分支" class="headerlink" title="2、创建 develop 分支"></a>2、创建 develop 分支</h3><p>当然我们 clone 操作以后，默认在 master 分支下，首先我们创建一个develop分支，作为开发的分支。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">master &gt; git checkout -b develop</span><br></pre></td></tr></table></figure>
<p>执行该指令以后，我们可以发现我们从原先的 master 分支切换到了 develop 分支。这一步我们也可以省略，但是为了充分展示 git 的基本操作以及良好的开发习惯，我先创建了这个分支。</p>
<h3 id="3、提交到本地-repo"><a href="#3、提交到本地-repo" class="headerlink" title="3、提交到本地 repo"></a>3、提交到本地 repo</h3><p>​假设我们现在要写的是一个 js ，我们在当前分支下进行一些列工作，比如 <code>touch xxx.js</code> 。</p>
<p>​等到本地单元测试完成，我们就可以开心愉快地先在本地提交了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">develop &gt; git add .</span><br><span class="line">develop &gt; git commit -m &apos;finish xxx&apos;</span><br></pre></td></tr></table></figure>
<p>​看下面这张图，你就知道我们在做什么了。</p>
<p><img src="https://koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/git-2.png" alt="git-2"></p>
<h3 id="4、回到-master-分支进行-pull-操作"><a href="#4、回到-master-分支进行-pull-操作" class="headerlink" title="4、回到 master 分支进行 pull 操作"></a>4、回到 master 分支进行 pull 操作</h3><p>​为了下面 <code>push</code> 操作，我们首先进行一次 <code>pull</code> 作为准备。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">develop &gt; git checkout master</span><br><span class="line">master &gt; git pull</span><br></pre></td></tr></table></figure>
<h3 id="5、将-master-分支合并到-develop-分支"><a href="#5、将-master-分支合并到-develop-分支" class="headerlink" title="5、将 master 分支合并到 develop 分支"></a>5、将 master 分支合并到 develop 分支</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">master &gt; git checkout develop</span><br><span class="line">develop &gt; git merge master</span><br></pre></td></tr></table></figure>
<h3 id="6、将本地-develop-分支提交到远程仓库的-xxx-分支"><a href="#6、将本地-develop-分支提交到远程仓库的-xxx-分支" class="headerlink" title="6、将本地 develop 分支提交到远程仓库的 xxx 分支"></a>6、将本地 develop 分支提交到远程仓库的 xxx 分支</h3><p>​最后，我们将开发好的 develop 分支上传到远程仓库。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">develop &gt; git push --set-upstream origin develop</span><br></pre></td></tr></table></figure>
<p>​到这里一个完整的基本 git 操作流程就完成了，但是在实际的合作中，我们会遇到各种各样的问题，下面的 <strong>开发问题</strong> 模块持续更新中。</p>
<h2 id="二、开发问题"><a href="#二、开发问题" class="headerlink" title="二、开发问题"></a>二、开发问题</h2><p>​每一个开发时遇到的问题，都是乱七八糟，甚至是匪夷所思的，那是因为我们接触地还不够多，我在这里设置的每一个问题都有不同的实际场景与不同的解决办法。</p>
<h3 id="1、对某一些文件我不想在-status-中见到"><a href="#1、对某一些文件我不想在-status-中见到" class="headerlink" title="1、对某一些文件我不想在 status 中见到"></a>1、对某一些文件我不想在 status 中见到</h3><h4 id="表现"><a href="#表现" class="headerlink" title="表现"></a>表现</h4><p>​换而言之，我对某一些文件的更改不想 <code>push</code> 到远程仓库，比如我们常常看到的显示方式文件 .DS_Store 文件。</p>
<h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h4><p>​现在我们需要在 git 项目下新建一个文件，名为 .gitignore ，顾名思义，就是在这个文件中声明的文件，在 git 操作时都将被忽略。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 创建一个 .gitignore 文件</span><br><span class="line">touch .gitignore</span><br><span class="line"><span class="meta">#</span> 写入内容</span><br><span class="line">vim .gitignore</span><br><span class="line"><span class="meta">#</span> 写入.Ds_Store</span><br></pre></td></tr></table></figure>
<p>​现在再次查看 <code>git status</code> ，声明的文件已经不见了。</p>
<h3 id="2、push-时发现有人更新"><a href="#2、push-时发现有人更新" class="headerlink" title="2、push 时发现有人更新"></a>2、push 时发现有人更新</h3><h4 id="表现-1"><a href="#表现-1" class="headerlink" title="表现"></a>表现</h4><p>​比如我有一个内容搞不定，但是在某人帮助下他成功搞定了这个内容，然后 <code>push</code> 到我所在开发的分支上，此时我认为我更改的内容和他更改的内容是不冲突的，但是我此时无法 <code>push</code> 的，只能将远程内容先再次保存回本地。提示如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git push origin develop:xxx</span><br><span class="line">To (somewhere)</span><br><span class="line"> ! [rejected]        develop -&gt; xxx (fetch first)</span><br><span class="line">error: failed to push some refs to &apos;(somewhere)&apos;</span><br><span class="line">hint: Updates were rejected because the remote contains work that you do</span><br><span class="line">hint: not have locally. This is usually caused by another repository pushing</span><br><span class="line">hint: to the same ref. You may want to first integrate the remote changes</span><br><span class="line">hint: (e.g., &apos;git pull ...&apos;) before pushing again.</span><br><span class="line">hint: See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details.</span><br></pre></td></tr></table></figure>
<h4 id="解决-1"><a href="#解决-1" class="headerlink" title="解决"></a>解决</h4><p>​那么根据提示照做吧：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 进行 pull</span><br><span class="line">git pull origin xxx:develop</span><br></pre></td></tr></table></figure>
<p>​现在错误已经不再是 <code>push</code> 不上去的问题了。</p>
<h3 id="3、pull-请求被拒绝"><a href="#3、pull-请求被拒绝" class="headerlink" title="3、pull 请求被拒绝"></a>3、pull 请求被拒绝</h3><h4 id="表现-2"><a href="#表现-2" class="headerlink" title="表现"></a>表现</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull origin xxx:develop</span><br><span class="line">! [rejected]        xxx  -&gt; develop  (non-fast-forward)</span><br></pre></td></tr></table></figure>
<p>​这是因为因为 <code>commit</code> 版本不一致，导致无法更新，这个错误多发生在多人更改同一个项目，也有可能发生在使用了 <code>git commit --amend</code> or <code>git rebase</code> 操作。</p>
<h4 id="解决-2"><a href="#解决-2" class="headerlink" title="解决"></a>解决</h4><p>​先给出一个临时性的方案，如果你非常确定更改的内容与自己内容的差别，可以使用一种非常简单粗暴的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --force origin develop:xxx</span><br></pre></td></tr></table></figure>
<p>​当然这个方法用到了 <code>—force</code> ，因此并不推荐。</p>
<h3 id="4、commit-以后或-push-以后发现有错误"><a href="#4、commit-以后或-push-以后发现有错误" class="headerlink" title="4、commit 以后或 push 以后发现有错误"></a>4、commit 以后或 push 以后发现有错误</h3><h4 id="表现-3"><a href="#表现-3" class="headerlink" title="表现"></a>表现</h4><p>​我们通过 <code>git status</code> 命令查看到一些更改，在使用 <code>git add.</code> 以后，不小心将不必要的内容也加入到了本地 repo ，现在我再想 <code>git push</code> 的话，会将我发现错误的 <code>commit</code> 内容一并发送，那么现在怎么办呢？</p>
<p>​相似地，<code>commit</code> 时候问题没有解决，我们将内容 <code>push</code> 到了远程仓库，那么此时我们应该怎么办呢？</p>
<h4 id="解决-3"><a href="#解决-3" class="headerlink" title="解决"></a>解决</h4><p>​有一个看似麻烦的方法，使用 <code>git log</code> 指令查看最近 <code>commit</code> 的 hash 值，使用:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 查看 log 信息</span><br><span class="line">git log</span><br><span class="line"><span class="meta">#</span> 切换回上一次 commit 的状态</span><br><span class="line">git reset --hard &lt;hashcode&gt;</span><br><span class="line"><span class="meta">#</span> 强制提交</span><br><span class="line">git push --force origin develop:xxx</span><br></pre></td></tr></table></figure>
<p>​现在，我们回到了上一次 <code>commit</code> 的情况，当然可以重新 <code>add commit</code> 了，这就提醒我们，常常更新本地repo，也就是 <code>commit</code> 到本地，做到一个保存的效果。</p>
<h3 id="5、回滚以后继续开发"><a href="#5、回滚以后继续开发" class="headerlink" title="5、回滚以后继续开发"></a>5、回滚以后继续开发</h3><h4 id="表现-4"><a href="#表现-4" class="headerlink" title="表现"></a>表现</h4><p>​一个分支出现了问题，我们对其进行回滚，等于对之前的 <code>push</code> 进行了一个相反的操作，错误分支消失了，此时想在之前错误的分支上继续开发应该怎么做呢？</p>
<h4 id="解决-4"><a href="#解决-4" class="headerlink" title="解决"></a>解决</h4><p>​此时，我们应该再次执行回滚 <code>revert</code> 操作。</p>
<p><img src="https://koonchenblog-1252050022.cos.ap-shanghai.myqcloud.com/img/blog/git回退.png" alt="pic-回退"></p>
<p>​我们假设基版本为10，我们的错误分支为a，<code>merge a</code> 分支之后，基版本变为11，也就是错误的版本。现在我们进行 <code>revert</code> 版本继续提升，等于提交一个 a 相反的 a’，版本变为12，我们当前进行 <code>merge</code> ，先消除之前的错误。此时，我们再次 <code>revert</code> ，版本成为 13，a 分支又出现了，现在就可以在这个 mr 状态下继续操作了。</p>
<h3 id="6、meger-冲突解决"><a href="#6、meger-冲突解决" class="headerlink" title="6、meger 冲突解决"></a>6、meger 冲突解决</h3><h4 id="表现-5"><a href="#表现-5" class="headerlink" title="表现"></a>表现</h4><p>​在团队开发中我们常常会遇到 <code>merge</code> 失败的情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git merge origin/master</span><br><span class="line"></span><br><span class="line">Auto-merging &lt;文件路径&gt;</span><br><span class="line">CONFLICT (content): Merge conflict in &lt;文件路径&gt;</span><br><span class="line">fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure>
<h4 id="解决-5"><a href="#解决-5" class="headerlink" title="解决"></a>解决</h4><p>​打开指定的文件，可以搜索到 <strong>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</strong> 、<strong>=======</strong> 、 <strong>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</strong> ，这样的符号，比如如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">Creating a new branch is quick &amp; simple.</span><br><span class="line">=======</span><br><span class="line">Creating a new branch is quick AND simple.</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; xxx</span><br></pre></td></tr></table></figure>
<p>​意思很简单，HEAD 后面的内容是当前分支上的内容，下面用 <strong>=======</strong> 分割需要 <code>merge</code> 的 xxx 分支，然后显示 xxx 分支下的内容，手动调整即可。</p>
<h3 id="7、合并-master"><a href="#7、合并-master" class="headerlink" title="7、合并 master"></a>7、合并 master</h3><h4 id="表现-6"><a href="#表现-6" class="headerlink" title="表现"></a>表现</h4><p>​首先讲讲 master、 origin master 与 origin/master 有什么区别？ master 就是本地某个分支名； origin master 代表两个概念，前面 origin 代表远程名，后面的 master 代表远程分支名； origin/master 只代表一个概念，及远程分支名，是从远程拉去代码后在本地的一份拷贝。</p>
<p>​在日常生活中，我们常常会听到 “合并一下主干” 这样的词汇，那要怎么办呢？</p>
<h4 id="解决-6"><a href="#解决-6" class="headerlink" title="解决"></a>解决</h4><p>首先确保当前分支在远程有对应的分支，然后进行 <code>git pull</code> ，接着使用 <code>git merge origin/master</code> ，出现错误就逐一更正。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 创建远程分支</span><br><span class="line">git push --set-upstream origin xxx</span><br><span class="line"><span class="meta">#</span> 获取远程各对应分支代码</span><br><span class="line">git pull</span><br><span class="line"><span class="meta">#</span> 合并主干分支 master 到当前分支</span><br><span class="line">git merge origin/master</span><br></pre></td></tr></table></figure>
<h3 id="8、撤销文件修改"><a href="#8、撤销文件修改" class="headerlink" title="8、撤销文件修改"></a>8、撤销文件修改</h3><h4 id="表现-7"><a href="#表现-7" class="headerlink" title="表现"></a>表现</h4><p>​假设我们修改了 a , b 两个文件，我们现在想撤销对 a 的修改，那么这里分三种情况：</p>
<p>1） 如果没有被 <code>git add</code> 到索引区</p>
<p>2） 撤销工作区中文件 a 的修改</p>
<p>3） 如果已被提交，则需要先回退当前提交到工作区，然后撤销文件a的修改</p>
<h4 id="解决-7"><a href="#解决-7" class="headerlink" title="解决"></a>解决</h4><p>1） 使用 <code>git checkout a</code> 撤销修改</p>
<p>2） 分两步：第一步， <code>git reset HEAD a</code> 将 a 从索引区移除（但是还是保留在工作区） ； 第二步，根据第一种情况，使用 <code>git checkout a</code> 撤销修改</p>
<p>3） 分两步：第一步，<code>git reset HEAD^</code> 回退当前提交到工作区 ； 第二步，根据第一种情况，使用 <code>git checkout a</code> 撤销修改</p>
<p>​之前也讨论过 <code>commit</code> 和 <code>push</code> 以后发生错误，当时使用的方法是 <code>—force</code> ，这里给出的方法更加平和，适合少量错误修改</p>
<h3 id="9、删除远程分支和本地分支"><a href="#9、删除远程分支和本地分支" class="headerlink" title="9、删除远程分支和本地分支"></a>9、删除远程分支和本地分支</h3><p>1） <code>git push origin --delete xxx</code> 删除远程分支</p>
<p>2）<code>git branch -d xxx</code> 删除本地分支</p>
<blockquote>
<p>CONTINUE…</p>
</blockquote>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="https://github.com/koonchen">Projects</a></li>
         
          <li><a href="https://valeriehu1995.github.io">PigChain</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、正常开发流程"><span class="toc-number">1.</span> <span class="toc-text">一、正常开发流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、克隆到本地-repo"><span class="toc-number">1.1.</span> <span class="toc-text">1、克隆到本地 repo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、创建-develop-分支"><span class="toc-number">1.2.</span> <span class="toc-text">2、创建 develop 分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、提交到本地-repo"><span class="toc-number">1.3.</span> <span class="toc-text">3、提交到本地 repo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、回到-master-分支进行-pull-操作"><span class="toc-number">1.4.</span> <span class="toc-text">4、回到 master 分支进行 pull 操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、将-master-分支合并到-develop-分支"><span class="toc-number">1.5.</span> <span class="toc-text">5、将 master 分支合并到 develop 分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、将本地-develop-分支提交到远程仓库的-xxx-分支"><span class="toc-number">1.6.</span> <span class="toc-text">6、将本地 develop 分支提交到远程仓库的 xxx 分支</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、开发问题"><span class="toc-number">2.</span> <span class="toc-text">二、开发问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、对某一些文件我不想在-status-中见到"><span class="toc-number">2.1.</span> <span class="toc-text">1、对某一些文件我不想在 status 中见到</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现"><span class="toc-number">2.1.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决"><span class="toc-number">2.1.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、push-时发现有人更新"><span class="toc-number">2.2.</span> <span class="toc-text">2、push 时发现有人更新</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-1"><span class="toc-number">2.2.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-1"><span class="toc-number">2.2.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、pull-请求被拒绝"><span class="toc-number">2.3.</span> <span class="toc-text">3、pull 请求被拒绝</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-2"><span class="toc-number">2.3.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-2"><span class="toc-number">2.3.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、commit-以后或-push-以后发现有错误"><span class="toc-number">2.4.</span> <span class="toc-text">4、commit 以后或 push 以后发现有错误</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-3"><span class="toc-number">2.4.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-3"><span class="toc-number">2.4.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、回滚以后继续开发"><span class="toc-number">2.5.</span> <span class="toc-text">5、回滚以后继续开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-4"><span class="toc-number">2.5.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-4"><span class="toc-number">2.5.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、meger-冲突解决"><span class="toc-number">2.6.</span> <span class="toc-text">6、meger 冲突解决</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-5"><span class="toc-number">2.6.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-5"><span class="toc-number">2.6.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7、合并-master"><span class="toc-number">2.7.</span> <span class="toc-text">7、合并 master</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-6"><span class="toc-number">2.7.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-6"><span class="toc-number">2.7.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8、撤销文件修改"><span class="toc-number">2.8.</span> <span class="toc-text">8、撤销文件修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表现-7"><span class="toc-number">2.8.1.</span> <span class="toc-text">表现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解决-7"><span class="toc-number">2.8.2.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9、删除远程分支和本地分支"><span class="toc-number">2.9.</span> <span class="toc-text">9、删除远程分支和本地分支</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://chenzeping.com/resource/2017-11-06-general-git-resources/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&text=git 常用资源"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&is_video=false&description=git 常用资源"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=git 常用资源&body=Check out this article: https://chenzeping.com/resource/2017-11-06-general-git-resources/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&title=git 常用资源"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://chenzeping.com/resource/2017-11-06-general-git-resources/&name=git 常用资源&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2021 Koon Chen
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="https://github.com/koonchen">Projects</a></li>
         
          <li><a href="https://valeriehu1995.github.io">PigChain</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->
<!-- <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"> -->
<link rel="stylesheet" href="//cdn.staticfile.org/font-awesome/5.2.0/css/all.min.css">
<!-- <link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css"> -->
<link rel="stylesheet" href="//cdn.staticfile.org/justifiedGallery/3.6.5/css/justifiedGallery.min.css">

    <!-- jquery -->
<!-- <script src="/lib/jquery/jquery.min.js"></script> -->
<script src="//cdn.staticfile.org/jquery/3.3.1/jquery.min.js"></script>
<!-- <script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script> -->
<script src="//cdn.staticfile.org/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-109260587-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
